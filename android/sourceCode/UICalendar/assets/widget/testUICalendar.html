<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"/>
    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
    <title>Hello APP</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
	<style>
		#con{
			margin: 10px;
			font-size: 24px; 
		}
		ul{
			margin-bottom: 10px;
		}
		ul li{ 
			margin: 5px 10px;
			padding: 5px;
			color: #000;
			word-wrap: break-word;
		}
	</style>
</head>
<body>
	<div id='sys-info'></div>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/jq.js"></script>
<script type="text/javascript">
	var UICalendar;
	var newRecipeNotice=[];
	var specialDateList=[];
	var cancleDate=[];
    apiready = function(){
    	newRecipeNotice=['2017-09-08','2017-09-10','2017-09-11','2017-09-15','2017-09-17'];
		for(var i=0;i<newRecipeNotice.length;i++){
			var obj = {};
			obj.date = newRecipeNotice[i];
			obj.color = '#000';
			obj.bg = 'widget://icon/chuqin.png';
			specialDateList.push(obj);
		}
		UICalendar = api.require('UICalendar');
		UICalendar.open({
			rect: {
				x: 0,
				y: 0,
				w: api.frameWidth,
				h: 208
			},
			styles: {
				bg: '#fff',
				week: {
					weekdayColor: '#3d3d3d',
					weekendColor: '#3d3d3d',
					size: 12
				},
				date: {
					color: '#3d3d3d',
					selectedColor: '#fff',
					selectedBg: 'widget://icon/click.png',
					size: 12
				},
				today: {
					color: '#fff',
					bg: 'widget://icon/tday.png'
				},
				specialDate: {
		            color: '#000',
		            bg: 'widget://icon/chuqin.png'
		        }
			},
			specialDate:specialDateList,
			switchMode: 'vertical',
			fixedOn: api.frameName,
			fixed: false
		}, function(ret, err) {
			if(ret) {
				var year = ret.year;
				var month = ret.month;
				var day = ret.day;
				if(month < 10) {
					month = "0" + month
				}
				if(day < 10) {
					day = '0' + day;
				}
				var cancleDay;
				if(ret.eventType == "show") {
					//addDataToHtml(dayIndex, tdTime, tdDate);
				} else if(ret.eventType == "special" || ret.eventType == "normal") {
					cancleDay=year + '-' + month + '-' + day;
					cancleSpecialDay(cancleDay);
				}
			} else { 
				//alert(JSON.stringify(err));
			}
		});
	}

	function cancleSpecialDay(clickDay){
		
	}
</script>
</html>